  [1m[36m (400.6ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (20.0ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (233.6ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (209.5ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (287.8ms)[0m  [1mCREATE INDEX `index_line_items_on_cart_id` USING btree ON `line_items` (`cart_id`) [0m
  [1m[35m (297.9ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (162.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (160.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (367.0ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.7ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (86.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806121303')[0m
  [1m[35m (55.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140805055720')
  [1m[36m (55.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806114937')[0m
  [1m[35m (66.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140726073233')
  [1m[36m (66.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140805054609')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (12.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-06 16:13:40', '2014-08-06 16:13:40', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-06 16:13:40', '2014-08-06 16:13:40', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-06 16:13:40', '2014-08-06 16:13:40', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-06 16:13:40', '2014-08-06 16:13:40', 298486374)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there. If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2014-08-06 16:13:40', '2014-08-06 16:13:40', 207281424)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `line_items`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-06 16:13:40', '2014-08-06 16:13:40', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-06 16:13:40', '2014-08-06 16:13:40', 298486374)
  [1m[36m (72.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-06 16:13:41', '2014-08-06 16:13:41')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 64ms (ActiveRecord: 9.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (71.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.7ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts
Completed 302 Found in 38ms (ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (70.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (32.2ms)
Completed 200 OK in 337ms (Views: 335.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.2ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.8ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (11.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-06 16:13:41', '2014-08-06 16:13:41')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.9ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-08-06 16:13:41', 207281424, '2014-08-06 16:13:41')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 ORDER BY `carts`.`id` ASC LIMIT 1[0m
Redirected to http://test.host/carts/980190964
Completed 302 Found in 42ms (ActiveRecord: 14.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (68.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items
Completed 302 Found in 4ms (ActiveRecord: 1.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (63.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.7ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (10.3ms)
Completed 200 OK in 42ms (Views: 39.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.3ms)
Completed 200 OK in 18ms (Views: 17.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.5ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.7ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsam' LIMIT 1
  [1m[36mSQL (10.8ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-08-06 16:13:42', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsam', '2014-08-06 16:13:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 50ms (ActiveRecord: 12.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (70.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.6ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.8ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`product_id` = 980190962 LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 17ms (ActiveRecord: 3.1ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (70.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (20.9ms)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 47ms (Views: 46.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.2ms)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.7ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsam' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (14.5ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsam', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-08-06 16:13:42' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 28ms (ActiveRecord: 16.2ms)
  [1m[36m (72.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
Completed 200 OK in 42ms (Views: 40.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (657.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (24.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (267.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (186.8ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (334.0ms)[0m  [1mCREATE INDEX `index_line_items_on_cart_id` USING btree ON `line_items` (`cart_id`) [0m
  [1m[35m (344.1ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (229.4ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (172.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (378.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.6ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (95.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806121303')[0m
  [1m[35m (91.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140805055720')
  [1m[36m (77.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806114937')[0m
  [1m[35m (77.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140726073233')
  [1m[36m (77.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140805054609')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (23.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (17.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:24:04', '2014-08-07 11:24:04', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:24:04', '2014-08-07 11:24:04', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:24:04', '2014-08-07 11:24:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:24:04', '2014-08-07 11:24:04', 298486374)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there. If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2014-08-07 11:24:04', '2014-08-07 11:24:04', 207281424)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `line_items`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:24:04', '2014-08-07 11:24:04', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:24:04', '2014-08-07 11:24:04', 298486374)
  [1m[36m (83.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (10.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:24:04', '2014-08-07 11:24:04')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (78.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.7ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.6ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  [1m[36mSQL (17.0ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 37ms (ActiveRecord: 18.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (87.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (8.8ms)
  [1m[35mLineItem Exists (0.6ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 1097ms (Views: 1093.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 500 Internal Server Error in 40ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (6.9ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 21ms (Views: 20.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Completed 500 Internal Server Error in 28ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:24:05', '2014-08-07 11:24:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-08-07 11:24:05', 207281424, '2014-08-07 11:24:05')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 ORDER BY `carts`.`id` ASC LIMIT 1[0m
  [1m[35m (126.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.6ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.5ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (16.8ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 20ms (ActiveRecord: 17.7ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (68.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.4ms)
Completed 500 Internal Server Error in 50ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.5ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 500 Internal Server Error in 14ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.3ms)
Completed 500 Internal Server Error in 23ms
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[35mProduct Exists (1.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (15.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsam' LIMIT 1
  [1m[36mSQL (8.9ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-08-07 11:24:06', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsam', '2014-08-07 11:24:06')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 35ms (ActiveRecord: 24.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (72.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`product_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (67.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.8ms)
Completed 500 Internal Server Error in 36ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 500 Internal Server Error in 51ms
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.2ms)
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 500 Internal Server Error in 13ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (1.6ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsam' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsam', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-08-07 11:24:06' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 3.0ms)
  [1m[36m (79.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:24:06', '2014-08-07 11:24:06')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.7ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection (0.1ms)
  Rendered carts/_cart.html.erb (4.2ms)
Completed 200 OK in 54ms (Views: 45.9ms | ActiveRecord: 4.1ms)
  [1m[35m (70.0ms)[0m  ROLLBACK
  [1m[36m (295.9ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.7ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (182.3ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (226.9ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (310.4ms)[0m  [1mCREATE INDEX `index_line_items_on_cart_id` USING btree ON `line_items` (`cart_id`) [0m
  [1m[35m (309.7ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (164.8ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (220.3ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (365.2ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.6ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (92.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806121303')[0m
  [1m[35m (88.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140805055720')
  [1m[36m (77.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806114937')[0m
  [1m[35m (66.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140726073233')
  [1m[36m (66.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140805054609')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (9.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:36:53', '2014-08-07 11:36:53', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:36:53', '2014-08-07 11:36:53', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:36:53', '2014-08-07 11:36:53', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:36:53', '2014-08-07 11:36:53', 298486374)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there. If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2014-08-07 11:36:53', '2014-08-07 11:36:53', 207281424)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `line_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:36:53', '2014-08-07 11:36:53', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:36:53', '2014-08-07 11:36:53', 298486374)
  [1m[36m (71.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.7ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:36:53', '2014-08-07 11:36:53')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (68.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  [1m[36mSQL (12.7ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 13.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (69.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.7ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.1ms)
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.1ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 68ms (Views: 65.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (3.1ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 23ms (Views: 22.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Completed 500 Internal Server Error in 15ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (9.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:36:53', '2014-08-07 11:36:53')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-08-07 11:36:53', 207281424, '2014-08-07 11:36:53')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 10.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (70.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:36:53', '2014-08-07 11:36:53')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190965, '2014-08-07 11:36:53', 207281424, '2014-08-07 11:36:53')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 ORDER BY `products`.`id` ASC LIMIT 1[0m
  Rendered line_items/_line_item.html.erb (5.2ms)
  Rendered carts/_cart.html.erb (8.8ms)
Completed 200 OK in 18ms (Views: 11.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (59.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (69.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.7ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (13.1ms)
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.2ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[36mProduct Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsam' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-08-07 11:36:54', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsam', '2014-08-07 11:36:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (69.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`product_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (13.7ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 25ms (ActiveRecord: 15.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (64.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (5.2ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 39ms (Views: 38.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.1ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (4.5ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsam' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsam', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-08-07 11:36:54' WHERE `products`.`id` = 980190962
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 13ms (ActiveRecord: 6.9ms)
  [1m[35m (84.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:36:54', '2014-08-07 11:36:54')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190966 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.7ms)
Completed 200 OK in 45ms (Views: 40.9ms | ActiveRecord: 1.8ms)
  [1m[36m (60.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:36:54', '2014-08-07 11:36:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.7ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190967 LIMIT 1
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190967[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 44ms (Views: 40.5ms | ActiveRecord: 2.2ms)
  [1m[35m (67.8ms)[0m  ROLLBACK
  [1m[36m (292.1ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.6ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (189.7ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (175.2ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (299.2ms)[0m  [1mCREATE INDEX `index_line_items_on_cart_id` USING btree ON `line_items` (`cart_id`) [0m
  [1m[35m (299.2ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (141.4ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (152.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (400.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.7ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (64.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806121303')[0m
  [1m[35m (66.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140805055720')
  [1m[36m (66.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140806114937')[0m
  [1m[35m (66.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140726073233')
  [1m[36m (77.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140805054609')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (15.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:37:44', '2014-08-07 11:37:44', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-08-07 11:37:44', '2014-08-07 11:37:44', 298486374)[0m
  [1m[35mFixture Delete (4.5ms)[0m  DELETE FROM `products`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:37:44', '2014-08-07 11:37:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-08-07 11:37:44', '2014-08-07 11:37:44', 298486374)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'Ruby is the fastest growing and most exciting dynamic language out there. If you need to get working programs delivered fast, you should add Ruby to your toolbox.', 49.5, 'ruby.png', '2014-08-07 11:37:44', '2014-08-07 11:37:44', 207281424)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `line_items`
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:37:44', '2014-08-07 11:37:44', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, NULL, '2014-08-07 11:37:44', '2014-08-07 11:37:44', 298486374)
  [1m[36m (68.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:37:44', '2014-08-07 11:37:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 14ms (ActiveRecord: 1.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (70.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (63.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.1ms)
  [1m[35mLineItem Exists (0.6ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.6ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.1ms)
  Rendered carts/_cart.html.erb (4.9ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.6ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:37:44', '2014-08-07 11:37:44')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-08-07 11:37:44', 207281424, '2014-08-07 11:37:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (133.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
LineItemsControllerTest: test_should_create_line_item_via_ajax
--------------------------------------------------------------
  [1m[35mLineItem Load (0.7ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:37:44', '2014-08-07 11:37:44')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190965, '2014-08-07 11:37:44', 207281424, '2014-08-07 11:37:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 ORDER BY `products`.`id` ASC LIMIT 1
  Rendered line_items/_line_item.html.erb (5.6ms)
  Rendered carts/_cart.html.erb (9.5ms)
Completed 200 OK in 28ms (Views: 16.4ms | ActiveRecord: 4.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (67.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.6ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (11.9ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 15ms (ActiveRecord: 12.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (74.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.8ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.0ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.2ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------
ProductTest: test_product_attributes_must_not_be_empty
------------------------------------------------------
  [1m[35mProduct Exists (0.7ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.6ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsam' LIMIT 1
  [1m[36mSQL (7.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-08-07 11:37:45', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsam', '2014-08-07 11:37:45')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms (ActiveRecord: 8.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (70.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`product_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (79.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.1ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 38ms (Views: 37.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.1ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsam", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.8ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsam' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsam', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-08-07 11:37:45' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36m (61.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------------------------------------
StoreControllerTest: test_markup_needed_for_store.js.coffee_is_in_place
-----------------------------------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:37:45', '2014-08-07 11:37:45')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.7ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190966 LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 56ms (Views: 49.4ms | ActiveRecord: 4.0ms)
  [1m[35m (78.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-08-07 11:37:45', '2014-08-07 11:37:45')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190967 LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190967
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 60ms (Views: 52.0ms | ActiveRecord: 3.9ms)
  [1m[36m (69.4ms)[0m  [1mROLLBACK[0m
